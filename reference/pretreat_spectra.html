<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Pretreat spectral data according to user-designated method — pretreat_spectra • waves</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Pretreat spectral data according to user-designated method — pretreat_spectra"><meta name="description" content="Pretreatment, also known as preprocessing, is often used to
  increase the signal to noise ratio in vis-NIR datasets. The waves
  function pretreat_spectra applies common spectral pretreatment
  methods such as standard normal variate and the Savitzky-Golay filter."><meta property="og:description" content="Pretreatment, also known as preprocessing, is often used to
  increase the signal to noise ratio in vis-NIR datasets. The waves
  function pretreat_spectra applies common spectral pretreatment
  methods such as standard normal variate and the Savitzky-Golay filter."><meta property="og:image" content="https://GoreLab.github.io/waves/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">waves</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/waves.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/GoreLab/waves/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Pretreat spectral data according to user-designated method</h1>
      <small class="dont-index">Source: <a href="https://github.com/GoreLab/waves/blob/v0.2.6/R/pretreat_spectra.R" class="external-link"><code>R/pretreat_spectra.R</code></a></small>
      <div class="d-none name"><code>pretreat_spectra.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Pretreatment, also known as preprocessing, is often used to
  increase the signal to noise ratio in vis-NIR datasets. The <em>waves</em>
  function <code>pretreat_spectra</code> applies common spectral pretreatment
  methods such as standard normal variate and the Savitzky-Golay filter.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pretreat_spectra</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  test.data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pretreatment <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  preprocessing.method <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  wavelengths <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p><code>data.frame</code> object containing spectral data. First column(s)
(optional) include metadata (with or without reference value column)
followed by spectral columns. Spectral column names must be formatted as
"X" followed by wavelength Include no other columns to right of spectra! No
missing values permitted.</p></dd>


<dt id="arg-test-data">test.data<a class="anchor" aria-label="anchor" href="#arg-test-data"></a></dt>
<dd><p><code>data.frame</code> object with same format as train.data.
Will be appended to <code>df</code> during pretreatment so that the same
transformations are applied to each row. Default is <code>NULL</code>.</p></dd>


<dt id="arg-pretreatment">pretreatment<a class="anchor" aria-label="anchor" href="#arg-pretreatment"></a></dt>
<dd><p>Number or list of numbers 1:13 corresponding to
  desired pretreatment method(s):</p><ol><li><p>Raw data (default)</p></li>
<li><p>Standard normal variate (SNV)</p></li>
<li><p>SNV and first derivative</p></li>
<li><p>SNV and second derivative</p></li>
<li><p>First derivative</p></li>
<li><p>Second derivative</p></li>
<li><p>Savitzky–Golay filter (SG)</p></li>
<li><p>SNV and SG</p></li>
<li><p>Gap-segment derivative (window size = 11)</p></li>
<li><p>SG and first derivative (window size = 5)</p></li>
<li><p>SG and first derivative (window size = 11)</p></li>
<li><p>SG and second derivative (window size = 5)</p></li>
<li><p>SG and second derivative (window size = 11)</p></li>
</ol></dd>


<dt id="arg-preprocessing-method">preprocessing.method<a class="anchor" aria-label="anchor" href="#arg-preprocessing-method"></a></dt>
<dd><p>DEPRECATED <code>preprocessing.method</code>
has been renamed "pretreatment"</p></dd>


<dt id="arg-wavelengths">wavelengths<a class="anchor" aria-label="anchor" href="#arg-wavelengths"></a></dt>
<dd><p>DEPRECATED <code>wavelengths</code> is no
longer supported; this information is now inferred from <code>df</code>
column names</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Pretreated <code>df</code>` (or list of <code>data.frame</code>s) with
  reference column intact</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Jenna Hershberger <a href="mailto:jmh579@cornell.edu">jmh579@cornell.edu</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">pretreat_spectra</span><span class="op">(</span>df <span class="op">=</span> <span class="va">ikeogu.2017</span>, pretreatment <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   study.name sample.id DMC.oven       TCC         X351</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    C16Mcal C16Mcal_1 39.62109  1.002029  0.013447658</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    C16Mcal C16Mcal_2 35.52017 17.034718 -0.008428511</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    C16Mcal C16Mcal_3 42.04462 21.616243  0.055000011</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    C16Mcal C16Mcal_4 39.00999  2.428640 -0.001007054</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    C16Mcal C16Mcal_5 33.44273 24.012182  0.054048209</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://jmh579.github.io" class="external-link">Jenna Hershberger</a>, NSF BREAD IOS-1543958.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

