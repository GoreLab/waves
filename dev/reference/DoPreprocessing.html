<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Preprocess spectral data according to user-designated method — DoPreprocessing • waves</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/solar/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Preprocess spectral data according to user-designated method — DoPreprocessing" />
<meta property="og:description" content="Preprocessing, also known as pretreatment, is often used to
  increase the signal to noise ratio in vis-NIR datasets. The waves
  function DoPreprocessing applies common spectral preprocessing
  methods such as standard normal variate and the Savitzky-Golay filter." />
<meta property="og:image" content="/logo.png" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">waves</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/GoreLab/waves/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Preprocess spectral data according to user-designated method</h1>
    <small class="dont-index">Source: <a href='https://github.com/GoreLab/waves/blob/master/R/DoPreprocessing.R'><code>R/DoPreprocessing.R</code></a></small>
    <div class="hidden name"><code>DoPreprocessing.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Preprocessing, also known as pretreatment, is often used to
  increase the signal to noise ratio in vis-NIR datasets. The <em>waves</em>
  function <code>DoPreprocessing</code> applies common spectral preprocessing
  methods such as standard normal variate and the Savitzky-Golay filter.</p>
    </div>

    <pre class="usage"><span class='fu'>DoPreprocessing</span><span class='op'>(</span>
  <span class='va'>df</span>,
  test.data <span class='op'>=</span> <span class='cn'>NULL</span>,
  preprocessing.method <span class='op'>=</span> <span class='fl'>1</span>,
  wavelengths <span class='op'>=</span> <span class='fl'>740</span><span class='op'>:</span><span class='fl'>1070</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>df</th>
      <td><p><code>data.frame</code> object containing spectral data. First column(s)
(optional) include metadata (with or without reference value column)
followed by spectral columns. Spectral column names must be formatted as
"X" followed by wavelength Include no other columns to right of spectra! No
missing values permitted.</p></td>
    </tr>
    <tr>
      <th>test.data</th>
      <td><p><code>data.frame</code> object with same format as train.data.
Will be appended to <code>df</code> during preprocessing so that the same
transformations are applied to each row. Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>preprocessing.method</th>
      <td><p>Number or list of numbers 1:13 corresponding to
  desired pretreatment method(s):</p><ul>
<li><p>1 = raw data (default)</p></li>
<li><p>2 = standard normal variate (SNV)</p></li>
<li><p>3 = SNV and first derivative</p></li>
<li><p>4 = SNV and second derivative</p></li>
<li><p>5 = first derivative</p></li>
<li><p>6 = second derivative</p></li>
<li><p>7 = Savitzky–Golay filter (SG)</p></li>
<li><p>8 = SNV and SG</p></li>
<li><p>9 = gap segment derivative (window size = 11)</p></li>
<li><p>10 = SG and first derivative (window size = 5)</p></li>
<li><p>11 = SG and first derivative (window size = 11)</p></li>
<li><p>12 = SG and second derivative (window size = 5)</p></li>
<li><p>13 = SG and second derivative (window size = 11)</p></li>
</ul></td>
    </tr>
    <tr>
      <th>wavelengths</th>
      <td><p>List of wavelengths represented by each column in
<code>df</code>. Default is 740:1070.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Preprocessed <code>df</code>` (or list of <code>data.frame</code>s) with
  reference column intact</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Jenna Hershberger <a href='mailto:jmh579@cornell.edu'>jmh579@cornell.edu</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>DoPreprocessing</span><span class='op'>(</span>df <span class='op'>=</span> <span class='va'>ikeogu.2017</span>, wavelengths <span class='op'>=</span> <span class='fl'>350</span><span class='op'>:</span><span class='fl'>2500</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span>
</div><div class='output co'>#&gt;   study.name sample.id DMC.oven       TCC      X350
#&gt; 1    C16Mcal C16Mcal_1 39.62109  1.002029 0.4881079
#&gt; 2    C16Mcal C16Mcal_2 35.52017 17.034718 0.5727389
#&gt; 3    C16Mcal C16Mcal_3 42.04462 21.616243 0.5989934
#&gt; 4    C16Mcal C16Mcal_4 39.00999  2.428640 0.5169374
#&gt; 5    C16Mcal C16Mcal_5 33.44273 24.012182 0.5189608</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://jmh579.github.io'>Jenna Hershberger</a>, NSF BREAD IOS-1543958.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


